// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream"),require("buffer"),require("process")):"function"==typeof define&&define.amd?define(["stream","buffer","process"],t):(r="undefined"!=typeof globalThis?globalThis:r||self).transformStream=t(r.require$$1,r.require$$0$1,r.require$$0$2)}(this,(function(r,t,e){"use strict";var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var o,i=Object.defineProperty,a=Object.prototype,u=a.toString,c=a.__defineGetter__,f=a.__defineSetter__,l=a.__lookupGetter__,s=a.__lookupSetter__;o=function(){try{return n({},"x",{}),!0}catch(r){return!1}}()?i:function(r,t,e){var n,o,i,p;if("object"!=typeof r||null===r||"[object Array]"===u.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof e||null===e||"[object Array]"===u.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((o="value"in e)&&(l.call(r,t)||s.call(r,t)?(n=r.__proto__,r.__proto__=a,delete r[t],r[t]=e.value,r.__proto__=n):r[t]=e.value),i="get"in e,p="set"in e,o&&(i||p))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&c&&c.call(r,t,e.get),p&&f&&f.call(r,t,e.set),r};var p=o;function y(r,t,e){p(r,t,{configurable:!1,enumerable:!1,writable:!1,value:e})}function g(r){var t=r.default;if("function"==typeof t){var e=function(){return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach((function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})})),e}var h=g(Object.freeze({__proto__:null,default:()=>()=>{}}));function d(r){var t=typeof r;return null===r||"object"!==t&&"function"!==t?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+r+"`."):null}var v=Object.create;function b(){}var w="function"==typeof v?v:function(r){return b.prototype=r,new b};function m(r,t){var e=d(r);if(e)throw e;if(e=d(t))throw e;if(void 0===t.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+t.prototype+"`.");return r.prototype=w(t.prototype),p(r.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:r}),r}var j="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function A(){return j&&"symbol"==typeof Symbol.toStringTag}var O=Object.prototype.toString;var E=Object.prototype.hasOwnProperty;function S(r,t){return null!=r&&E.call(r,t)}var _="function"==typeof Symbol?Symbol.toStringTag:"";var I=A()?function(r){var t,e,n;if(null==r)return O.call(r);e=r[_],t=S(r,_);try{r[_]=void 0}catch(t){return O.call(r)}return n=O.call(r),t?r[_]=e:delete r[_],n}:function(r){return O.call(r)};var T=Array.isArray?Array.isArray:function(r){return"[object Array]"===I(r)};function k(r){return"number"==typeof r}var x=Number,U=x.prototype.toString;var F=A();function P(r){return"object"==typeof r&&(r instanceof x||(F?function(r){try{return U.call(r),!0}catch(r){return!1}}(r):"[object Number]"===I(r)))}function M(r){return k(r)||P(r)}y(M,"isPrimitive",k),y(M,"isObject",P);var B=Number.POSITIVE_INFINITY,V=x.NEGATIVE_INFINITY,C=Math.floor;function $(r){return C(r)===r}function N(r){return r<B&&r>V&&$(r)}function W(r){return k(r)&&N(r)}function R(r){return P(r)&&N(r.valueOf())}function H(r){return W(r)||R(r)}function L(r){return W(r)&&r>=0}function z(r){return R(r)&&r.valueOf()>=0}function G(r){return L(r)||z(r)}function q(r){return null!==r&&"object"==typeof r}function X(r){return q(r)&&(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))}y(H,"isPrimitive",W),y(H,"isObject",R),y(G,"isPrimitive",L),y(G,"isObject",z),y(q,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError("invalid argument. Must provide a function. Value: `"+r+"`.");return function(t){var e,n;if(!T(t))return!1;if(0===(e=t.length))return!1;for(n=0;n<e;n++)if(!1===r(t[n]))return!1;return!0}}(q));var D=/./;function Z(r){return"boolean"==typeof r}var Y=Boolean.prototype.toString;var J=A();function K(r){return"object"==typeof r&&(r instanceof Boolean||(J?function(r){try{return Y.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===I(r)))}function Q(r){return Z(r)||K(r)}function rr(){return new Function("return this;")()}y(Q,"isPrimitive",Z),y(Q,"isObject",K);var tr="object"==typeof self?self:null,er="object"==typeof window?window:null,nr="object"==typeof global?global:null;var or=function(r){if(arguments.length){if(!Z(r))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+r+"`.");if(r)return rr()}if(tr)return tr;if(er)return er;if(nr)return nr;throw new Error("unexpected error. Unable to resolve global object.")}(),ir=or.document&&or.document.childNodes,ar=Int8Array;function ur(){return/^\s*function\s*([^(]*)/i}var cr=/^\s*function\s*([^(]*)/i;function fr(r){var t,e,n;if(("Object"===(e=I(r).slice(8,-1))||"Error"===e)&&r.constructor){if("string"==typeof(n=r.constructor).name)return n.name;if(t=cr.exec(n.toString()))return t[1]}return X(r)?"Buffer":e}y(ur,"REGEXP",cr);var lr="function"==typeof D||"object"==typeof ar||"function"==typeof ir?function(r){return fr(r).toLowerCase()}:function(r){var t;return null===r?"null":"object"===(t=typeof r)?fr(r).toLowerCase():t};function sr(r){return"function"===lr(r)}var pr,yr=Object.getPrototypeOf;pr=sr(Object.getPrototypeOf)?yr:function(r){var t=function(r){return r.__proto__}(r);return t||null===t?t:"[object Function]"===I(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var gr=pr;function hr(r){return null==r?null:(r=Object(r),gr(r))}function dr(r){return"string"==typeof r}var vr=String.prototype.valueOf;var br=A();function wr(r){return"object"==typeof r&&(r instanceof String||(br?function(r){try{return vr.call(r),!0}catch(r){return!1}}(r):"[object String]"===I(r)))}function mr(r){return dr(r)||wr(r)}function jr(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}function Ar(r){return"number"==typeof r}function Or(r){var t,e="";for(t=0;t<r;t++)e+="0";return e}function Er(r,t,e){var n=!1,o=t-r.length;return o<0||(function(r){return"-"===r[0]}(r)&&(n=!0,r=r.substr(1)),r=e?r+Or(o):Or(o)+r,n&&(r="-"+r)),r}y(mr,"isPrimitive",dr),y(mr,"isObject",wr),y(jr,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var Sr=String.prototype.toLowerCase,_r=String.prototype.toUpperCase;function Ir(r){var t,e,n;switch(r.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(e=r.arg,n=parseInt(e,10),!isFinite(n)){if(!Ar(e))throw new Error("invalid integer. Value: "+e);n=0}return n<0&&("u"===r.specifier||10!==t)&&(n=4294967295+n+1),n<0?(e=(-n).toString(t),r.precision&&(e=Er(e,r.precision,r.padRight)),e="-"+e):(e=n.toString(t),n||r.precision?r.precision&&(e=Er(e,r.precision,r.padRight)):e="",r.sign&&(e=r.sign+e)),16===t&&(r.alternate&&(e="0x"+e),e=r.specifier===_r.call(r.specifier)?_r.call(e):Sr.call(e)),8===t&&r.alternate&&"0"!==e.charAt(0)&&(e="0"+e),e}function Tr(r){return"string"==typeof r}var kr=Math.abs,xr=String.prototype.toLowerCase,Ur=String.prototype.toUpperCase,Fr=String.prototype.replace,Pr=/e\+(\d)$/,Mr=/e-(\d)$/,Br=/^(\d+)$/,Vr=/^(\d+)e/,Cr=/\.0$/,$r=/\.0*e/,Nr=/(\..*[^0])0*e/;function Wr(r){var t,e,n=parseFloat(r.arg);if(!isFinite(n)){if(!Ar(r.arg))throw new Error("invalid floating-point number. Value: "+e);n=r.arg}switch(r.specifier){case"e":case"E":e=n.toExponential(r.precision);break;case"f":case"F":e=n.toFixed(r.precision);break;case"g":case"G":kr(n)<1e-4?((t=r.precision)>0&&(t-=1),e=n.toExponential(t)):e=n.toPrecision(r.precision),r.alternate||(e=Fr.call(e,Nr,"$1e"),e=Fr.call(e,$r,"e"),e=Fr.call(e,Cr,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return e=Fr.call(e,Pr,"e+0$1"),e=Fr.call(e,Mr,"e-0$1"),r.alternate&&(e=Fr.call(e,Br,"$1."),e=Fr.call(e,Vr,"$1.e")),n>=0&&r.sign&&(e=r.sign+e),e=r.specifier===Ur.call(r.specifier)?Ur.call(e):xr.call(e)}function Rr(r){var t,e="";for(t=0;t<r;t++)e+=" ";return e}function Hr(r,t,e){var n=t-r.length;return n<0?r:r=e?r+Rr(n):Rr(n)+r}var Lr=String.fromCharCode,zr=isNaN,Gr=Array.isArray;function qr(r){var t={};return t.specifier=r.specifier,t.precision=void 0===r.precision?1:r.precision,t.width=r.width,t.flags=r.flags||"",t.mapping=r.mapping,t}function Xr(r){var t,e,n,o,i,a,u,c,f;if(!Gr(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(a="",u=1,c=0;c<r.length;c++)if(Tr(n=r[c]))a+=n;else{if(t=void 0!==n.precision,!(n=qr(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),e=n.flags,f=0;f<e.length;f++)switch(o=e.charAt(f)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=e.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,zr(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,zr(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=Ir(n);break;case"s":n.maxWidth=t?n.precision:-1;break;case"c":if(!zr(n.arg)){if((i=parseInt(n.arg,10))<0||i>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=zr(i)?String(n.arg):Lr(i)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(n.precision=6),n.arg=Wr(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=Er(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=Hr(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a}var Dr=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function Zr(r){var t={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(t.precision="1"),t}function Yr(r){var t,e,n,o;for(e=[],o=0,n=Dr.exec(r);n;)(t=r.slice(o,Dr.lastIndex-n[0].length)).length&&e.push(t),e.push(Zr(n)),o=Dr.lastIndex,n=Dr.exec(r);return(t=r.slice(o)).length&&e.push(t),e}function Jr(r){return"string"==typeof r}function Kr(r){var t,e,n;if(!Jr(r))throw new TypeError(Kr("invalid argument. First argument must be a string. Value: `%s`.",r));for(t=Yr(r),(e=new Array(arguments.length))[0]=t,n=1;n<e.length;n++)e[n]=arguments[n];return Xr.apply(null,e)}function Qr(r){if(!dr(r))throw new TypeError(Kr("invalid argument. Must provide a regular expression string. Value: `%s`.",r));return(r=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(r))?new RegExp(r[1],r[2]):null}function rt(r){return r!=r}function tt(r){return k(r)&&rt(r)}function et(r){return P(r)&&rt(r.valueOf())}function nt(r){return tt(r)||et(r)}y(nt,"isPrimitive",tt),y(nt,"isObject",et);function ot(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&$(r.length)&&r.length>=0&&r.length<=9007199254740991}function it(r,t,e){var n,o;if(!ot(r)&&!dr(r))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+r+"`.");if(0===(n=r.length))return-1;if(3===arguments.length){if(!W(e))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+e+"`.");if(e>=0){if(e>=n)return-1;o=e}else(o=n+e)<0&&(o=0)}else o=0;if(nt(t)){for(;o<n;o++)if(nt(r[o]))return o}else for(;o<n;o++)if(r[o]===t)return o;return-1}function at(r){return Object.keys(Object(r))}var ut,ct=void 0!==Object.keys;function ft(r){return"[object Arguments]"===I(r)}ut=function(){return ft(arguments)}();var lt=ut,st=Object.prototype.propertyIsEnumerable;var pt=!st.call("beep","0");function yt(r,t){var e;return null!=r&&(!(e=st.call(r,t))&&pt&&mr(r)?!tt(t=+t)&&W(t)&&t>=0&&t<r.length:e)}var gt=4294967295;var ht=lt?ft:function(r){return null!==r&&"object"==typeof r&&!T(r)&&"number"==typeof r.length&&$(r.length)&&r.length>=0&&r.length<=gt&&S(r,"callee")&&!yt(r,"callee")},dt=Array.prototype.slice;var vt=yt((function(){}),"prototype"),bt=!yt({toString:null},"toString");function wt(r){return r.constructor&&r.constructor.prototype===r}var mt=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],jt="undefined"==typeof window?void 0:window;var At=function(){var r;if("undefined"===lr(jt))return!1;for(r in jt)try{-1===it(mt,r)&&S(jt,r)&&null!==jt[r]&&"object"===lr(jt[r])&&wt(jt[r])}catch(r){return!0}return!1}(),Ot="undefined"!=typeof window;var Et,St=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Et=ct?function(){return 2!==(at(arguments)||"").length}(1,2)?function(r){return ht(r)?at(dt.call(r)):at(r)}:at:function(r){var t,e,n,o,i,a,u;if(o=[],ht(r)){for(u=0;u<r.length;u++)o.push(u.toString());return o}if("string"==typeof r){if(r.length>0&&!S(r,"0"))for(u=0;u<r.length;u++)o.push(u.toString())}else{if(!1==(n="function"==typeof r)&&!q(r))return o;e=vt&&n}for(i in r)e&&"prototype"===i||!S(r,i)||o.push(String(i));if(bt)for(t=function(r){if(!1===Ot&&!At)return wt(r);try{return wt(r)}catch(r){return!1}}(r),u=0;u<St.length;u++)a=St[u],t&&"constructor"===a||!S(r,a)||o.push(String(a));return o};var _t=Et,It=void 0!==Object.getOwnPropertyNames,Tt=Object.getOwnPropertyNames;var kt=It?function(r){return Tt(Object(r))}:function(r){return _t(Object(r))},xt=void 0!==Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptor;var Ft=xt?function(r,t){var e;return null==r||void 0===(e=Ut(r,t))?null:e}:function(r,t){return S(r,t)?{configurable:!0,enumerable:!0,writable:!0,value:r[t]}:null},Pt="function"==typeof Buffer?Buffer:null;var Mt,Bt=t.Buffer;Mt=function(){var r,t;if("function"!=typeof Pt)return!1;try{r=X(t="function"==typeof Pt.from?Pt.from([1,2,3,4]):new Pt([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){r=!1}return r}()?Bt:function(){throw new Error("not implemented")};var Vt=Mt;var Ct=sr(Vt.from)?function(r){if(!X(r))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+r+"`");return Vt.from(r)}:function(r){if(!X(r))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+r+"`");return new Vt(r)},$t="function"==typeof Int8Array;var Nt="function"==typeof Int8Array?Int8Array:null;var Wt,Rt="function"==typeof Int8Array?Int8Array:void 0;Wt=function(){var r,t,e;if("function"!=typeof Nt)return!1;try{t=new Nt([1,3.14,-3.14,128]),e=t,r=($t&&e instanceof Int8Array||"[object Int8Array]"===I(e))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){r=!1}return r}()?Rt:function(){throw new Error("not implemented")};var Ht=Wt,Lt="function"==typeof Uint8Array;var zt="function"==typeof Uint8Array?Uint8Array:null;var Gt,qt="function"==typeof Uint8Array?Uint8Array:void 0;Gt=function(){var r,t,e;if("function"!=typeof zt)return!1;try{t=new zt(t=[1,3.14,-3.14,256,257]),e=t,r=(Lt&&e instanceof Uint8Array||"[object Uint8Array]"===I(e))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){r=!1}return r}()?qt:function(){throw new Error("not implemented")};var Xt=Gt,Dt="function"==typeof Uint8ClampedArray;var Zt="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Yt,Jt="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Yt=function(){var r,t,e;if("function"!=typeof Zt)return!1;try{t=new Zt([-1,0,1,3.14,4.99,255,256]),e=t,r=(Dt&&e instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===I(e))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){r=!1}return r}()?Jt:function(){throw new Error("not implemented")};var Kt=Yt,Qt="function"==typeof Int16Array;var re="function"==typeof Int16Array?Int16Array:null;var te,ee="function"==typeof Int16Array?Int16Array:void 0;te=function(){var r,t,e;if("function"!=typeof re)return!1;try{t=new re([1,3.14,-3.14,32768]),e=t,r=(Qt&&e instanceof Int16Array||"[object Int16Array]"===I(e))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){r=!1}return r}()?ee:function(){throw new Error("not implemented")};var ne=te,oe="function"==typeof Uint16Array;var ie="function"==typeof Uint16Array?Uint16Array:null;var ae,ue="function"==typeof Uint16Array?Uint16Array:void 0;ae=function(){var r,t,e;if("function"!=typeof ie)return!1;try{t=new ie(t=[1,3.14,-3.14,65536,65537]),e=t,r=(oe&&e instanceof Uint16Array||"[object Uint16Array]"===I(e))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){r=!1}return r}()?ue:function(){throw new Error("not implemented")};var ce=ae,fe="function"==typeof Int32Array;var le="function"==typeof Int32Array?Int32Array:null;var se,pe="function"==typeof Int32Array?Int32Array:void 0;se=function(){var r,t,e;if("function"!=typeof le)return!1;try{t=new le([1,3.14,-3.14,2147483648]),e=t,r=(fe&&e instanceof Int32Array||"[object Int32Array]"===I(e))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){r=!1}return r}()?pe:function(){throw new Error("not implemented")};var ye=se,ge="function"==typeof Uint32Array;var he="function"==typeof Uint32Array?Uint32Array:null;var de,ve="function"==typeof Uint32Array?Uint32Array:void 0;de=function(){var r,t,e;if("function"!=typeof he)return!1;try{t=new he(t=[1,3.14,-3.14,4294967296,4294967297]),e=t,r=(ge&&e instanceof Uint32Array||"[object Uint32Array]"===I(e))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){r=!1}return r}()?ve:function(){throw new Error("not implemented")};var be=de,we="function"==typeof Float32Array;var me="function"==typeof Float32Array?Float32Array:null;var je,Ae="function"==typeof Float32Array?Float32Array:void 0;je=function(){var r,t,e;if("function"!=typeof me)return!1;try{t=new me([1,3.14,-3.14,5e40]),e=t,r=(we&&e instanceof Float32Array||"[object Float32Array]"===I(e))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===B}catch(t){r=!1}return r}()?Ae:function(){throw new Error("not implemented")};var Oe=je,Ee="function"==typeof Float64Array;var Se="function"==typeof Float64Array?Float64Array:null;var _e,Ie="function"==typeof Float64Array?Float64Array:void 0;_e=function(){var r,t,e;if("function"!=typeof Se)return!1;try{t=new Se([1,3.14,-3.14,NaN]),e=t,r=(Ee&&e instanceof Float64Array||"[object Float64Array]"===I(e))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){r=!1}return r}()?Ie:function(){throw new Error("not implemented")};var Te=_e;function ke(r){return new Ht(r)}function xe(r){return new Xt(r)}function Ue(r){return new Kt(r)}function Fe(r){return new ne(r)}function Pe(r){return new ce(r)}function Me(r){return new ye(r)}function Be(r){return new be(r)}function Ve(r){return new Oe(r)}function Ce(r){return new Te(r)}var $e={int8array:ke,uint8array:xe,uint8clampedarray:Ue,int16array:Fe,uint16array:Pe,int32array:Me,uint32array:Be,float32array:Ve,float64array:Ce};function Ne(r,t,e,n,o){var i,a,u,c,f,l,s,y,g,h;if(o-=1,"object"!=typeof r||null===r)return r;if(X(r))return Ct(r);if(function(r){if("object"!=typeof r||null===r)return!1;if(r instanceof Error)return!0;for(;r;){if("[object Error]"===I(r))return!0;r=hr(r)}return!1}(r))return function(r){var t,e,n,o,i,a,u=[],c=[];for(i=new r.constructor(r.message),u.push(r),c.push(i),r.stack&&(i.stack=r.stack),r.code&&(i.code=r.code),r.errno&&(i.errno=r.errno),r.syscall&&(i.syscall=r.syscall),t=_t(r),a=0;a<t.length;a++)o=t[a],S(e=Ft(r,o),"value")&&(n=T(r[o])?[]:{},e.value=Ne(r[o],n,u,c,-1)),p(i,o,e);return i}(r);if("date"===(u=lr(r)))return new Date(+r);if("regexp"===u)return Qr(r.toString());if("set"===u)return new Set(r);if("map"===u)return new Map(r);if("string"===u||"boolean"===u||"number"===u)return r.valueOf();if(f=$e[u])return f(r);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(r){var t,e,n,o,i,a,u,c;for(t=[],o=[],u=Object.create(hr(r)),t.push(r),o.push(u),e=kt(r),c=0;c<e.length;c++)n=e[c],S(i=Ft(r,n),"value")&&(a=T(r[n])?[]:{},i.value=Ne(r[n],a,t,o,-1)),p(u,n,i);return Object.isExtensible(r)||Object.preventExtensions(u),Object.isSealed(r)&&Object.seal(u),Object.isFrozen(r)&&Object.freeze(u),u}(r):{};if(a=_t(r),o>0)for(i=u,h=0;h<a.length;h++)y=r[l=a[h]],u=lr(y),"object"!=typeof y||null===y||"array"!==u&&"object"!==u||X(y)?"object"===i?(S(c=Ft(r,l),"value")&&(c.value=Ne(y)),p(t,l,c)):t[l]=Ne(y):-1===(g=it(e,y))?(s=T(y)?new Array(y.length):{},e.push(y),n.push(s),"array"===i?t[l]=Ne(y,s,e,n,o):(S(c=Ft(r,l),"value")&&(c.value=Ne(y,s,e,n,o)),p(t,l,c))):t[l]=n[g];else if("array"===u)for(h=0;h<a.length;h++)t[l=a[h]]=r[l];else for(h=0;h<a.length;h++)l=a[h],c=Ft(r,l),p(t,l,c);return Object.isExtensible(r)||Object.preventExtensions(t),Object.isSealed(r)&&Object.seal(t),Object.isFrozen(r)&&Object.freeze(t),t}function We(r,t){var e;if(arguments.length>1){if(!L(t))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+t+"`.");if(0===t)return r}else t=B;return Ne(r,e=T(r)?new Array(r.length):{},[r],[e],t)}var Re={objectMode:!1,encoding:null,allowHalfOpen:!1,decodeStrings:!0};var He=Object.prototype;function Le(r){var t;return!!function(r){return"object"==typeof r&&null!==r&&!T(r)}(r)&&(!(t=hr(r))||!S(r,"constructor")&&S(t,"constructor")&&sr(t.constructor)&&"[object Function]"===I(t.constructor)&&S(t,"isPrototypeOf")&&sr(t.isPrototypeOf)&&(t===He||function(r){var t;for(t in r)if(!S(r,t))return!1;return!0}(r)))}function ze(r){return k(r)&&r>=0}function Ge(r){return P(r)&&r.valueOf()>=0}function qe(r){return ze(r)||Ge(r)}function Xe(){var r,t=arguments,e=t[0],n="https://stdlib.io/e/"+e+"?";for(r=1;r<t.length;r++)n+="&arg[]="+encodeURIComponent(t[r]);return n}function De(r,t){return Le(t)?S(t,"transform")&&(r.transform=t.transform,!sr(r.transform))?new TypeError(Xe("0gB78","transform",r.transform)):S(t,"flush")&&(r.flush=t.flush,!sr(r.flush))?new TypeError(Xe("0gB78","flush",r.flush)):S(t,"objectMode")&&(r.objectMode=t.objectMode,!Z(r.objectMode))?new TypeError(Xe("0gB30","objectMode",r.objectMode)):S(t,"encoding")&&(r.encoding=t.encoding,!dr(r.encoding))?new TypeError(Xe("0gB2i","encoding",r.encoding)):S(t,"allowHalfOpen")&&(r.allowHalfOpen=t.allowHalfOpen,!Z(r.allowHalfOpen))?new TypeError(Xe("0gB30","allowHalfOpen",r.allowHalfOpen)):S(t,"highWaterMark")&&(r.highWaterMark=t.highWaterMark,!ze(r.highWaterMark))?new TypeError(Xe("0gB4x","highWaterMark",r.highWaterMark)):S(t,"decodeStrings")&&(r.decodeStrings=t.decodeStrings,!Z(r.decodeStrings))?new TypeError(Xe("0gB30","decodeStrings",r.decodeStrings)):null:new TypeError(Xe("0gB2h",t))}y(qe,"isPrimitive",ze),y(qe,"isObject",Ge);var Ze=e;var Ye=h("transform-stream:destroy");function Je(r){var t;return this._destroyed?(Ye("Attempted to destroy an already destroyed stream."),this):(t=this,this._destroyed=!0,function(r){var t,e;for(t=[],e=1;e<arguments.length;e++)t.push(arguments[e]);function n(){r.apply(null,t)}Ze.nextTick(n)}((function(){r&&(Ye("Stream was destroyed due to an error. Error: %s.",JSON.stringify(r)),t.emit("error",r));Ye("Closing the stream..."),t.emit("close")})),this)}var Ke=h("transform-stream:transform");function Qe(r,t,e){Ke("Received a new chunk. Chunk: %s. Encoding: %s.",r.toString(),t),e(null,r)}var rn=h,tn=r.Transform,en=rn("transform-stream:main");function nn(r){var t,e;if(!(this instanceof nn))return arguments.length?new nn(r):new nn;if(t=We(Re),arguments.length&&(e=De(t,r)))throw e;return en("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),tn.call(this,t),this._destroyed=!1,t.transform?this._transform=t.transform:this._transform=Qe,t.flush&&(this._flush=t.flush),this}m(nn,tn),nn.prototype.destroy=Je;var on=h,an=r.Transform,un=on("transform-stream:ctor");return y(nn,"objectMode",(function(r){var t;if(arguments.length){if(!Le(r))throw new TypeError(Xe("0gB2h",r));t=We(r)}else t={};return t.objectMode=!0,new nn(t)})),y(nn,"factory",(function(r){var t;if(arguments.length){if(!Le(r))throw new TypeError(Xe("0gB2h",r));t=We(r)}else t={};return e;function e(r,e){return t.transform=r,arguments.length>1?t.flush=e:delete t.flush,new nn(t)}})),y(nn,"ctor",(function(r){var t,e,n;if(e=We(Re),arguments.length&&(n=De(e,r)))throw n;function o(r){var t,n;if(!(this instanceof o))return arguments.length?new o(r):new o;if(t=We(e),arguments.length&&(n=De(t,r)))throw n;return un("Creating a transform stream configured with the following options: %s.",JSON.stringify(t)),an.call(this,t),this._destroyed=!1,this}return t=e.transform?e.transform:Qe,m(o,an),o.prototype._transform=t,e.flush&&(o.prototype._flush=e.flush),o.prototype.destroy=Je,o})),nn}));
//# sourceMappingURL=index.js.map
